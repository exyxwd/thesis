name: React App Deployment

on:
  push:
    branches:
      - main

jobs:
  deploy-react-to-gh-pages:
    runs-on: ubuntu-latest
    env:
      EXAMPLE: example # environment variable

    steps:
      # checkout the repository content to github runner
      - name: Checkout
        uses: actions/checkout@v3

      - name: Build and Deploy React app to GitHub Pages
        uses: omkartapale/react-deployment-gh-pages@v1.0.0

    #   - name: Setup bun
    #     uses: oven-sh/setup-bun@v1

      # cache the dependencies to speed up the build
    #   - name: Cache dependencies
    #     uses: actions/cache@v2
    #     with:
    #       path: ~/.bun
    #       key: ${{ runner.os }}-node-${{ hashFiles('**/frontend/package-lock.json') }}
    #       restore-keys: |
    #         ${{ runner.os }}-node-

      # install dependencies
    #   - name: Install dependencies
    #     run: cd frontend && bun i

    #   # build the react app
    #   - name: Build
    #     run: cd frontend && bun run build

    #   # deploy the react app to github pages
    #   - name: Deploy
    #     uses: peaceiris/actions-gh-pages@v3
    #     with:
    #       # NOTE: GITHUB_TOKEN is a secret token that is automatically generated by GitHub
    #       github_token: ${{ secrets.GITHUB_TOKEN }}
    #       publish_dir: ./build # directory to deploy    